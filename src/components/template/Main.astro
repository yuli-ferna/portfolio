---
import { getLangFromUrl, useTranslations } from "../../i18n/utils";
import Home from "./Home.astro";
import Experience from "./Experience.astro";
import Education from "./Education.astro";
import Skills from "./Skills.astro";
import Contact from "./Contact.astro";
import { easeInOut, motion } from "framer-motion";
const variants = {
  whileInView: {
    opacity: 1,
    transition: { delay: 0.3, easeInOut },
    skewY: 0,
  },
  initial: {
    opacity: 0,
    transition: { delay: 0.3, easeInOut },
    skewY: 10,
  },
  viewport: {
    amount: 0.08,
  },
  layout: true
};
const sections = [
  {
    id: "home",
    title: "Home",
    component: Home
  },
  {
    id: "skills",
    title: "Skills",
    component: Skills
  },
  {
    id: "experience",
    title: "Experience",
    component: Experience
  },
  {
    id: "education",
    title: "Education",
    component: Education
  },
  {
    id: "contact",
    title: "Contact",
    component: Contact
  }
];

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<main class="w-fit">
  {sections.map((section, index) => (
  <section id={section.id} class={`flex flex-col items-center justify-center text-center ${(index + 1) % 2 === 0 ? "bg-container-item/10" : ""}`}>
      <motion.div
        client:load
        {...variants}
      >
        <section.component t={t} />
      </motion.div>
  </section>
  ))}
</main>
