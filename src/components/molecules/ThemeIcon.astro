<button id="themeToggle" class="icon-button" aria-label="Theme toggle">
  <svg class="sun fill-primary dark:hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="Interface-Essential-Switch-Off--Streamline-Pixel" height="24" width="24">
    <desc>
      Interface Essential Switch Off Streamline Icon: https://streamlinehq.com
    </desc>
    <title>interface-essential-switch-off</title>
    <g>
      <path d="M22.86 2.2874999999999996H24v19.424999999999997h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M21.7125 21.7125h1.1475v1.1475h-1.1475Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M21.7125 1.1400000000000001h1.1475v1.1475h-1.1475Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M20.572499999999998 19.424999999999997h1.1400000000000001v1.1475h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M20.572499999999998 3.4275h1.1400000000000001v1.1400000000000001h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M2.2874999999999996 22.86h19.424999999999997V24H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
      <path d="m17.145 4.5675 -8.0025 0 0 1.1475 -1.1400000000000001 0 0 4.5675 1.1400000000000001 0 0 -1.1400000000000001 6.862500000000001 0 0 1.1400000000000001 -1.1475 0 0 1.1475 -1.1400000000000001 0 0 1.1400000000000001 -1.1475 0 0 1.1400000000000001 -6.855 0 0 -1.1400000000000001 -1.1400000000000001 0 0 3.4275 1.1400000000000001 0 0 -1.1400000000000001 5.715 0 0 1.1400000000000001 -5.715 0 0 1.1475 2.2874999999999996 0 0 1.1400000000000001 1.1400000000000001 0 0 -1.1400000000000001 4.574999999999999 0 0 -1.1475 1.1400000000000001 0 0 -2.2874999999999996 1.1475 0 0 -1.1400000000000001 1.1400000000000001 0 0 5.715 1.1400000000000001 0 0 -12.57 -1.1400000000000001 0 0 -1.1475z" fill="#000000" stroke-width="0.75"></path>
      <path d="M9.1425 18.285h8.0025v1.1400000000000001H9.1425Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M6.862500000000001 10.2825h1.1400000000000001v1.1475H6.862500000000001Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M5.715 11.43h1.1475v1.1400000000000001H5.715Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M2.2874999999999996 0h19.424999999999997v1.1400000000000001H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M2.2874999999999996 19.424999999999997h1.1400000000000001v1.1475H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M2.2874999999999996 3.4275h1.1400000000000001v1.1400000000000001H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M1.1475 21.7125h1.1400000000000001v1.1475H1.1475Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M1.1475 1.1400000000000001h1.1400000000000001v1.1475H1.1475Z" fill="#000000" stroke-width="0.75"></path>
      <path d="M0 2.2874999999999996h1.1475v19.424999999999997H0Z" fill="#000000" stroke-width="0.75"></path>
    </g>
  </svg>
    <svg class="moon hidden dark:fill-primary dark:flex" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="Interface-Essential-Switch-On--Streamline-Pixel" height="24" width="24">
      <desc>
        Interface Essential Switch On Streamline Icon: https://streamlinehq.com
      </desc>
      <title>interface-essential-switch-on</title>
      <g>
        <path d="M22.86 2.2874999999999996H24v19.424999999999997h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M21.7125 21.7125h1.1475v1.1475h-1.1475Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M21.7125 1.1400000000000001h1.1475v1.1475h-1.1475Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M20.572499999999998 19.424999999999997h1.1400000000000001v1.1475h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M20.572499999999998 3.4275h1.1400000000000001v1.1400000000000001h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M2.2874999999999996 22.86h19.424999999999997V24H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
        <path d="m17.145 4.5675 -2.2874999999999996 0 0 -1.1400000000000001 -1.1400000000000001 0 0 -1.1400000000000001 -8.0025 0 0 1.1400000000000001 5.715 0 0 1.1400000000000001 -5.715 0 0 -1.1400000000000001 -1.1400000000000001 0 0 3.4275 1.1400000000000001 0 0 -1.1400000000000001 8.0025 0 0 1.1400000000000001 1.1400000000000001 0 0 1.1475 1.1475 0 0 1.1400000000000001 1.1400000000000001 0 0 1.1400000000000001 -8.0025 0 0 -1.1400000000000001 -1.1400000000000001 0 0 9.1425 1.1400000000000001 0 0 -6.855 8.0025 0 0 6.855 1.1400000000000001 0 0 -12.57 -1.1400000000000001 0 0 -1.1475z" fill="#000000" stroke-width="0.75"></path>
        <path d="M9.1425 18.285h8.0025v1.1400000000000001H9.1425Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M14.857499999999998 14.857499999999998h1.1475v1.1400000000000001h-1.1475Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M14.857499999999998 12.57h1.1475v1.1400000000000001h-1.1475Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M11.43 15.997499999999999h3.4275v1.1475h-3.4275Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M10.290000000000001 14.857499999999998h1.1400000000000001v1.1400000000000001h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M10.290000000000001 12.57h1.1400000000000001v1.1400000000000001h-1.1400000000000001Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M6.862500000000001 8.0025h1.1400000000000001v1.1400000000000001H6.862500000000001Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M5.715 6.855h1.1475v1.1475H5.715Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M2.2874999999999996 0h19.424999999999997v1.1400000000000001H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M2.2874999999999996 19.424999999999997h1.1400000000000001v1.1475H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M2.2874999999999996 3.4275h1.1400000000000001v1.1400000000000001H2.2874999999999996Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M1.1475 21.7125h1.1400000000000001v1.1475H1.1475Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M1.1475 1.1400000000000001h1.1400000000000001v1.1475H1.1475Z" fill="#000000" stroke-width="0.75"></path>
        <path d="M0 2.2874999999999996h1.1475v19.424999999999997H0Z" fill="#000000" stroke-width="0.75"></path>
      </g>
    </svg>
</button>

<script is:inline>
  const theme = (() => {
    const localStorageTheme = localStorage?.getItem("theme") ?? "";
    if (["dark", "light"].includes(localStorageTheme)) {
      return localStorageTheme;
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "dark";
    }
    return "light";
  })();

  if (
    theme === "light" &&
    document.documentElement.getAttribute("data-theme") !== "light"
  ) {
    document.documentElement.setAttribute("data-theme", "light");
  } else if (
    theme === "dark" &&
    document.documentElement.getAttribute("data-theme") !== "dark"
  ) {
    document.documentElement.setAttribute("data-theme", "dark");
  }

  window.localStorage.setItem("theme", theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    element.setAttribute(
      "data-theme",
      element.getAttribute("data-theme") === "light" ? "dark" : "light",
    );

    const isDark = element.getAttribute("data-theme") === "dark";
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  document
    .getElementById("themeToggle")
    ?.addEventListener("click", handleToggleClick);
</script>
